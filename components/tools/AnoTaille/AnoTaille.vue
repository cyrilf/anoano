<template>
  <PageSkeleton
    image-src="https://images.unsplash.com/photo-1611077544637-f826625c2776?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1035&h=750&crop=top,right&q=80"
  >
    <template #intro>
      <p>
        Avec cet outil tu peux facilement
        <b>trouver la taille id√©ale pour ton anneau</b> en 3 √©tapes.
      </p>
      <p>
        Pour cela, il te suffit de
        <b>mesurer la largeur de ton p√©nis en √©r√©ction</b> avec une r√®gle. Puis
        d'<b>entrer cette valeur dans le formulaire</b> ci-dessous et hop', on
        <b
          >te proposes le mod√®le parfait
          <span class="-tranzinc-y-1 inline-block scale-150">üíç</span></b
        >.
      </p>
      <p>
        Il est tr√®s important de bien prendre tes mesures. Si l'anneau est trop
        grand, il ne tiendra pas en place et glissera. Si il est trop petit,
        alors il irritera ta peau et sera responsable de sensations
        d√©sagr√©ables. Si sa taille est bien choisi, tu ne sauras m√™me pas que tu
        le porte.
      </p>
    </template>
    <div>
      <div class="prose my-4 max-w-none rounded bg-zinc-50 p-4 px-8 shadow">
        <h2 class="not-prose">
          <nuxt-link
            to="/outils/ano-taille#etape-1"
            id="etape-1"
            active-class="_"
            exact-active-class="_"
            class="scroll-mt-24"
          >
            1. Tu mesures ton sexe
          </nuxt-link>
        </h2>
        <div class="">
          <div>
            Prends <b>une r√®gle</b> ou un m√®tre.
            <div>
              Une fois debout, pose la r√®gle sur ton p√©nis
              <b>en √©r√©ction</b> et <b>mesure sa largeur</b> √† la base. Notes
              cette taille.
            </div>
          </div>
          <div>
            Tu dois aussi faire une mesure similaire mais avec ton p√©nis au
            repos pour l'Andro-switch.
          </div>
        </div>
      </div>

      <div class="prose my-4 max-w-none rounded bg-zinc-50 p-4 px-8 shadow">
        <h2 class="not-prose mt-8">
          <nuxt-link
            to="/outils/ano-taille#etape-2"
            id="etape-2"
            active-class="_"
            exact-active-class="_"
            class="scroll-mt-24"
          >
            2. Tu trouves la taille qu'il te faut<Tooltip
              >Aucune donn√©e n'est sauvegard√©e ou envoy√©e.
              <span class="text-primary-400">Promis ‚ú®</span>.
              <div>D'ailleurs le code est open-source.</div>
            </Tooltip>
          </nuxt-link>
        </h2>
        <Tabs :tabs="tabs" v-model="provider" class="not-prose">
          <ToolsAnoTailleDIY v-if="provider === 'diy'" />
          <ToolsAnoTailleAndro v-if="provider === 'andro'" @change="onChange" />
        </Tabs>
      </div>
      <div class="prose my-4 max-w-none rounded bg-zinc-50 p-4 px-8 shadow">
        <h2 class="not-prose mt-8">
          <nuxt-link
            to="/outils/ano-taille#etape-3"
            id="etape-3"
            active-class="_"
            exact-active-class="_"
            class="scroll-mt-24"
          >
            3. Tu ach√®tes ou tu fabriques ton anneau
          </nuxt-link>
        </h2>
        <div class="mt-2">
          <div>
            C'est bon, tu peux maintenant acheter ou faire ton anneau. Tu as les
            mesures n√©cessaires.
          </div>
          <Alert
            title="‚ö†Ô∏è Information importante"
            type="accent"
            toggle
            class="mt-6"
          >
            Aujourd'hui,
            <b>aucun dispositif de remont√©e testiculaire n'est certifi√©</b>.
            L√©galement les anneaux ne peuvent √™tre vendu en tant qu'appareil
            m√©dical. Ce sont de simples anneaux adapt√©s pour la remont√©e
            testiculaire mais ils ne peuvent √™tre cat√©goris√©s comme
            contraceptifs. Il est donc important de garder en t√™te que la
            contraception masculine reste exp√©rimentale, bien que bas√©e sur des
            √©tudes scientifiques, dont celles du
            <a
              href="https://link.springer.com/content/pdf/10.1007/s12610-012-0192-1.pdf"
              >Dr Mieusset</a
            >.
            <p>
              C'est pourquoi l'achat de l'Andro-Switch ne se fait plus sur le
              site de <a href="https://thoreme.com">Thoreme</a> mais sur un site
              partenaire en tant que
              <a href="https://www.coucouroucoucou.com"
                ><i>"talismans r√©versibles"</i></a
              >.
            </p>
            <p>
              Mais les choses bougent
              <a href="https://entrelac.coop/">une coop√©rative</a> a √©t√© cr√©√©e
              pour atteindre la certification europ√©enne.
            </p>
          </Alert>
          <Tabs :tabs="tabs" v-model="provider" class="not-prose">
            <div v-if="provider === 'diy'" class="prose prose-zinc max-w-none">
              <div>
                Tu peux
                <a
                  href="https://samflam.notion.site/samflam/Tutoriel-Silicone-3bac4b5a6a254ba9bab7c9ec88f7ef35"
                  target="_blank"
                  >suivre ce tuto</a
                >
                pour le fabriquer toi m√™me.
              </div>
              <div>
                Sinon, tu peux rejoindre un groupe pr√®s de chez toi ou assister
                √† un atelier anim√© par Otoko (sur Paris).
              </div>
              <div>
                Toutes
                <a
                  href="https://samflam.notion.site/Les-ateliers-d9de9241af564c2a877468af9d49d162"
                  target="_blank"
                  >les informations sur ses ateliers sont ici</a
                >.
              </div>
            </div>
            <div v-if="provider === 'andro'">
              <div>
                Voil√† un lien pour acheter ton mod√®le id√©al,
                <b class="text-primary-500"
                  ><a
                    :href="selection[selection.isSoft ? 'hrefSoft' : 'href']"
                    target="_blank"
                    class="text-primary-500 underline decoration-primary-500 decoration-2 hover:text-primary-400 hover:decoration-primary-400"
                    >l'Andro-switch
                    {{ selection.isSoft ? "soft" : "basique" }}
                    {{ selection[selection.isSoft ? "soft" : "model"] }}</a
                  ></b
                >
              </div>
            </div>
          </Tabs>
        </div>
      </div>
    </div>
  </PageSkeleton>
</template>

<script lang="ts" setup>
import { ref, Ref } from "vue";
import { SelectedModel } from "~/types/Model";

const provider = ref("andro");
const tabs = [
  { name: "Andro-switch", value: "andro" },
  { name: "Do It Yourself", value: "diy" },
];

const selection: Ref<SelectedModel> = ref({}) as Ref<SelectedModel>;
const onChange = (value: SelectedModel) => (selection.value = value);
</script>
